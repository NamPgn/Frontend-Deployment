import{r as i,j as s,a_ as m,aR as u,ag as p,aW as r}from"./vendor-5f4444f9.js";import{g as h,e as g,ad as x,c as n,q as c,v as j,w as f,ae as y,af as C}from"./index-2f3f1e79.js";const S=t=>t.comment.value,E=()=>{const t=h(S),o=g();i.useEffect(()=>{o(x())},[]);const d=async(e,a)=>{(await o(C({commentId:e,productId:a}))).payload?r.success("Delete comment successfully"):r.error("Error deleting comment")},l=t&&t.filter(e=>e.user!==null).map((e,a)=>({key:e._id,stt:a+1,name:e.commentContent,user:e.user.username,image:s.jsx(m,{width:60,height:80,style:{objectFit:"cover"},src:e.user.image}),product:s.jsx(n,{to:"/d/"+e.product._id+`?c=${e.product.category}`,children:e.product.name+" "+e.product.seri}),permission:e.role==0?"User":"Admin",day:e.createdAt.toString("DD-MM-YYYY"),action:s.jsxs(s.Fragment,{children:[s.jsx(n,{to:`/dashboard/comment/${e._id}`,children:s.jsx(c,{danger:!0,shape:"circle",children:s.jsx(u,{})})}),s.jsx(j,{title:"Delete the product",onConfirm:()=>d(e._id,e.product._id),okText:"Yes",cancelText:"No",children:s.jsx(c,{shape:"circle",className:"ml-2",children:s.jsx(p,{})})})]})}));return s.jsx(s.Fragment,{children:s.jsx(f,{columns:y,dataSource:l,pagination:{defaultPageSize:5,showSizeChanger:!0,pageSizeOptions:["5","10","15"]}})})};export{E as default};
