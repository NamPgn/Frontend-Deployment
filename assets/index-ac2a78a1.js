import{r as i,j as s,aZ as m,aQ as u,af as p,aW as o}from"./vendor-07012f45.js";import{g as h,e as g,af as x,c as r,q as c,v as f,w as j,ag as C,ah as S}from"./index-b23bc153.js";const y=t=>t.comment.value,Y=()=>{const t=h(y),n=g();i.useEffect(()=>{n(x())},[]);const d=async(e,a)=>{(await n(S({commentId:e,productId:a}))).payload?o.success("Delete comment successfully"):o.error("Error deleting comment")},l=t&&t.filter(e=>e.user!==null).map((e,a)=>({key:e._id,stt:a+1,name:e.commentContent,user:e.user.username,image:s.jsx(m,{width:60,height:80,style:{objectFit:"cover"},src:e.user.image}),product:s.jsx(r,{to:"/d/"+e.product.slug,children:e.product.name+" "+e.product.seri}),permission:e.role==0?"User":"Admin",day:e.createdAt.toString("DD-MM-YYYY"),action:s.jsxs(s.Fragment,{children:[s.jsx(r,{to:`/dashboard/comment/${e._id}`,children:s.jsx(c,{danger:!0,shape:"circle",children:s.jsx(u,{})})}),s.jsx(f,{title:"Delete the product",onConfirm:()=>d(e._id,e.product._id),okText:"Yes",cancelText:"No",children:s.jsx(c,{shape:"circle",className:"ml-2",children:s.jsx(p,{})})})]})}));return s.jsx(s.Fragment,{children:s.jsx(j,{columns:C,dataSource:l,pagination:{defaultPageSize:5,showSizeChanger:!0,pageSizeOptions:["5","10","15"]}})})};export{Y as default};
