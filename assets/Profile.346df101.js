import{g as w,h as n,i as k,k as E,l as F,r as h,m as U,n as L,j as e,d as a,o as j,p as C,q as I,U as S,E as D,t as P,v as M,w as q,x as A,y as O,Q as p}from"./index.b27c32e5.js";const z=()=>{var c,g;const f=w().shape({username:n().required(),email:n().required().email(),firstName:n().optional(),lastName:n().optional()}),{register:d,handleSubmit:x,reset:o,formState:{errors:t}}=k({resolver:P(f)}),l=E(),b=F(),{user:s}=h.exports.useContext(U)||{};h.exports.useEffect(()=>{o(s)},[o,s]);const y=L(i=>i.user.isLoading),N=async i=>{var m;const r=i.target.files[0];if(r!==void 0){const u=new FormData;u.append("file",r);const v={id:s._id,formData:u};(m=(await l(M(v))).payload)!=null&&m.success?q("Image saved successfully"):A("Image saved failed")}};return e("div",{className:"flex justify-around",children:a("form",{className:"bg-[#1b1b1b18] p-5 rounded-lg lg:w-4/12 md:w-6/12 w-full",onSubmit:x(async i=>{try{const r={id:s._id,content:i};(await l(O(r))).payload.success&&p.success("S\u1EEDa th\xE0nh c\xF4ng!")}catch{p.error("S\u1EEDa kh\xF4ng th\xE0nh c\xF4ng!")}}),children:[a("div",{className:"space-y-12",children:[a("div",{className:"border-b border-gray-50/10 pb-12",children:[a("div",{className:"flex justify-between",children:[e("h2",{className:"text-base font-semibold leading-7 text-white",children:"Profile"}),a("button",{onClick:()=>j(l,b),className:"inline-flex gap-2 items-center px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 text-sm font-medium rounded-md",children:[e(C,{}),"Logout"]})]}),e("div",{className:"flex justify-center",children:y?e("div",{className:"seriLoading",children:"Loading..."}):e("div",{className:"h-40 w-40",children:s.image?e("img",{className:"object-cover h-full p-1 rounded-lg ring-2 ring-indigo-300 dark:ring-indigo-500",src:s.image,alt:s.username}):e(I,{title:s==null?void 0:s.name,src:void 0,size:150,icon:e(S,{})})})}),e("div",{className:"text-center m-5",children:e("input",{type:"file",className:"text-white underline text-sm text-grey-500\r file:mr-5 file:py-2 file:px-6\r file:rounded-full file:border-0\r file:text-sm file:font-medium\r file:bg-blue-50 file:text-blue-700\r hover:file:cursor-pointer hover:file:bg-amber-50\r hover:file:text-amber-700",onChange:N})}),a("div",{className:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:[a("div",{className:"sm:col-span-3",children:[e("label",{htmlFor:"first-name",className:"block text-sm font-medium leading-6 text-white",children:"Username"}),a("div",{className:"mt-2",children:[e("input",{...d("username"),placeholder:"Username",type:"text",name:"Username",id:"Username",autoComplete:"given-name",className:"block w-full p-2 bg-transparent rounded-md border-0 py-1.5 text-[#999] shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"}),t.username&&e("div",{className:"text-sm text-pink-600 mt-1",children:t.username.message})]})]}),a("div",{className:"sm:col-span-3",children:[e("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-white",children:"Email"}),a("div",{className:"mt-2",children:[e("input",{...d("email"),placeholder:" email",type:"text",name:"email",id:"email",autoComplete:"family-name",disabled:!!s.email,className:`block w-full ${s.email?"text-[#9999993f] cursor-no-drop":"text-white"} p-2 bg-transparent rounded-md border-0 py-1.5  shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6`}),t.email&&e("div",{className:"text-sm text-pink-600 mt-1",children:t.email.message})]})]})]})]}),a("div",{className:"border-b border-gray-900/10 pb-12",children:[e("h2",{className:"text-base font-semibold leading-7 text-white",children:"Personal Information"}),e("p",{className:"mt-1 text-sm leading-6 text-gray-300",children:"Use a permanent address where you can receive mail."}),a("div",{className:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:[a("div",{className:"sm:col-span-3",children:[e("label",{htmlFor:"first-name",className:"block text-sm font-medium leading-6 text-white",children:"First name"}),a("div",{className:"mt-2",children:[e("input",{placeholder:"First name",type:"text",name:"first-name",id:"first-name",autoComplete:"given-name",className:"block w-full p-2 bg-transparent rounded-md border-0 py-1.5 text-[#999] shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"}),t.email&&e("div",{className:"text-sm text-pink-600 mt-1",children:(c=t.firstName)==null?void 0:c.message})]})]}),a("div",{className:"sm:col-span-3",children:[e("label",{htmlFor:"last-name",className:"block text-sm font-medium leading-6 text-white",children:"Last name"}),a("div",{className:"mt-2",children:[e("input",{placeholder:" Last name",type:"text",name:"last-name",id:"last-name",autoComplete:"family-name",className:"block w-full p-2 bg-transparent rounded-md border-0 py-1.5 text-white shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"}),t.email&&e("div",{className:"text-sm text-pink-600 mt-1",children:(g=t.lastName)==null?void 0:g.message})]})]})]})]})]}),e("div",{className:"mt-6 flex items-center justify-end gap-x-6",children:a("button",{className:"inline-flex gap-2 items-center px-4 py-2 bg-indigo-500 hover:bg-indigo-600 text-white text-sm font-medium rounded-md",children:[e(D,{}),"Update Profile"]})})]})})};export{z as default};
