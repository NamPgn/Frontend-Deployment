import{r as g,j as s,b1 as D,aU as M,af as h,as as o}from"./vendor-c6feb40d.js";import{u as w,a as b,ag as A,h as x,c as l,f as m,i as E,ah as T,ai as Y,aj as k}from"./index-3a949f9b.js";const N=t=>t.comment.value,z=()=>{const t=w(N),a=b(),[d,f]=g.useState([]),j={selectedRowKeys:d,onChange:e=>{f(e)}};g.useEffect(()=>{a(A())},[]);const S=async()=>{const e=await a(Y(d));console.log(e),e.payload?o.success("Delete products successfully"):o.error("Error deleting products")},y=async(e,n)=>{(await a(k({commentId:e,productId:n}))).meta.requestStatus=="fulfilled"?o.success("Delete comment successfully"):o.error("Error deleting comment")},C=t&&(t==null?void 0:t.map((e,n)=>{var c,r,u,i;return{key:e._id,stt:n+1,name:e.commentContent,user:(c=e==null?void 0:e.user)==null?void 0:c.username,image:s.jsx(D,{width:60,height:80,style:{objectFit:"cover"},src:(r=e==null?void 0:e.user)==null?void 0:r.image}),category:s.jsx(x,{to:"/d/"+((u=e==null?void 0:e.category)==null?void 0:u.slug),children:(i=e==null?void 0:e.category)==null?void 0:i.slug}),permission:e.role==0?"User":"Admin",day:e.createdAt.toString("DD-MM-YYYY"),action:s.jsxs(s.Fragment,{children:[s.jsx(x,{to:`/dashboard/comment/${e._id}`,children:s.jsx(l,{danger:!0,shape:"circle",children:s.jsx(M,{})})}),s.jsx(m,{title:"Delete the product",onConfirm:()=>{var p;return y(e._id,(p=e==null?void 0:e.product)==null?void 0:p._id)},okText:"Yes",cancelText:"No",children:s.jsx(l,{shape:"circle",className:"ml-2",children:s.jsx(h,{})})})]})}}));return s.jsxs(s.Fragment,{children:[s.jsx(m,{title:"Delete The Movies",onConfirm:S,okText:"Yes",cancelText:"No",className:"mb-5",children:s.jsx(l,{icon:s.jsx(h,{}),className:"flex items-center bg-gradient-to-br from-pink-500 to-orange-400 text-white",children:"Delete Multiple Movies"})}),s.jsx(E,{rowSelection:j,columns:T,dataSource:C,pagination:{defaultPageSize:40,showSizeChanger:!0,pageSizeOptions:["40","60","80"]}})]})};export{z as default};
