import{r as p,G as V,n as I,u as L,m as D,g as P,d as c,j as a,bi as T,e as U,aJ as o,bj as F,bk as N,J as S,bl as _,bm as $,bn as j,a1 as m,bo as B}from"./index.db3b6576.js";import{M as u}from"./index.77f6975a.js";import{M as x}from"./index.72264dd5.js";import"./DownloadOutlined.28b4b4d2.js";const Q=()=>{var v,f;const{categorymain:r,seri:s}=p.exports.useContext(V),[k,b]=p.exports.useState(!1),{data:y}=I(e=>e.category.category),{id:d}=L(),{handleSubmit:g,reset:w,control:n}=D(),h=P(),[l,C]=p.exports.useState({});p.exports.useEffect(()=>{(async()=>{const{payload:i}=await h($(d));w(i),C(i)})()},[]);const M=async e=>{var E;const i=new FormData;i.append("name",e.name),i.append("options",e.options),i.append("category",e.category),i.append("_id",d),i.append("seri",e.seri),i.append("LinkCopyright",e.LinkCopyright),i.append("copyright",e.copyright),i.append("descriptions",e.descriptions),i.append("trailer",e.trailer),i.append("image",e.image),i.append("year",e.year),i.append("country",e.country),i.append("typeId",e.typeId),i.append("categorymain",e.categorymain),i.append("dailyMotionServer",e.dailyMotionServer),i.append("link",e.link),i.append("imageLink",e.image),i.append("view",e.view);const t=await h(j(i));((E=t==null?void 0:t.meta)==null?void 0:E.requestStatus)=="fulfilled"&&m.success(`Edit ${e.name} Success`)},A=async e=>{try{const i=new FormData;i.append("fileupload",e.fileupload),await B(d,i)&&(m.success(`${e.name} Susscessfully Uploaded`),b(!0))}catch{m.success(`${e.name} Failer Uploaded`)}finally{b(!1)}};return c("div",{children:[a(T,{level:4,children:a(U,{to:`/d/${l._id}?c=${(v=l.category)==null?void 0:v._id}`,children:l.name+" t\u1EADp "+l.seri})}),c("form",{onSubmit:g(M),children:[a(o,{name:"name",label:"Product name",control:n,rules:void 0}),a(o,{name:"seri",label:"Seri",control:n,rules:void 0}),a(o,{name:"view",label:"View",control:n,rules:void 0}),a(o,{name:"descriptions",label:"Desciption",control:n,rules:void 0}),a(o,{name:"LinkCopyright",label:"LinkCopyright",control:n,rules:void 0}),a(o,{name:"link",label:"Video Url",control:n,rules:void 0}),a(o,{name:"dailyMotionServer",label:"DailyMotionServer",control:n,rules:void 0}),a(o,{name:"server2",label:"Assb server",control:n,rules:void 0}),a(o,{name:"trailer",label:"Trailer Video",control:n,rules:void 0}),a("div",{style:{width:"150px",height:"200px"},children:a(F,{src:N(200,(f=l==null?void 0:l.category)==null?void 0:f.linkImg),className:"w-full h-full"})}),a("br",{}),a(x,{name:"image",label:"New Image Upload",control:n}),a(o,{name:"year",label:"Year",control:n,rules:void 0}),a(o,{name:"country",label:"country",control:n,rules:void 0}),a(o,{name:"options",label:"Options",control:n,rules:void 0}),a(o,{name:"imageLink",label:"Image Link",control:n,rules:void 0}),a(u,{label:"Category",control:n,name:"category",defaultValue:"category",options:y&&y.map((e,i)=>({label:e.name,value:e._id}))}),a("br",{}),a(u,{name:"typeId",label:"Th\u1EC3 lo\u1EA1i c\u1EE7a phim l\u1EBB",control:n,defaultValue:"Th\u1EC3 lo\u1EA1i",options:s&&(s==null?void 0:s.map((e,i)=>({label:e.name,value:e._id})))}),a("br",{}),a(u,{control:n,name:"Th\u1EC3 lo\u1EA1i c\u1EE7a danh m\u1EE5c th\u1EC3 lo\u1EA1i g\u1ED3m c\xE1c danh m\u1EE5c con",label:"Categorymain",placeholder:"categorymain",defaultValue:"categorymain",options:r&&(r==null?void 0:r.map((e,i)=>({label:e.name,value:e._id})))}),a("br",{}),a(S,{htmlType:"submit",className:"btn btn-primary mt-2",children:"Submit"})]}),a(_,{textColor:"#000",orientation:"center",children:"Abyss Server"}),c("form",{onSubmit:g(A),children:[a(x,{name:"fileupload",label:"New Video Upload",control:n}),a("div",{className:"mt-2",children:a(S,{loading:k,htmlType:"submit",className:"btn btn-primary",children:"Submit"})})]})]})};export{Q as default};
