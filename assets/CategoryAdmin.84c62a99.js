import{f as A,i as k,ab as S,r as l,h as v,ac as C,j as a,I as E,b as n,c as b,B as c,ad as u,T as I,Q as d,ae as T,af as w}from"./index.6cb976f3.js";import{p as D}from"./type.ff35b169.js";import{u as F}from"./index.esm.9d78f1a0.js";const j=[{title:"Stt",dataIndex:"stt",key:"stt"},{title:"Name",dataIndex:"name",key:"name"},{title:"Image",dataIndex:"image",key:"Image"},{title:"CreateAt",dataIndex:"createAt",key:"createAt"},{title:"Action",dataIndex:"action",key:"action"}],P=()=>{const i=A(),r=k(S),{seri:o}=l.exports.useContext(v),[p,m]=l.exports.useState(null),{register:s,handleSubmit:h}=F(),y=e=>{const t=new FormData;t.append("name",e.name),t.append("des",e.des),t.append("sumSeri",e.sumSeri),t.append("week",e.week),t.append("type",e.type),t.append("file",e.file[0]),d.success("Th\xE0nh c\xF4ng"),i(T(t))},g=e=>{e?(d.success("Delete Success"),i(w(e))):d.error("Delete Fail")};l.exports.useEffect(()=>{i(C())},[]);const x=e=>{m(e)},f=async e=>{await D(p,{categoryId:e})},N=r.data?r.data.map((e,t)=>({key:e._id,stt:t+1,name:e.name,image:a(E,{width:150,height:200,style:{objectFit:"cover"},src:e.linkImg}),createAt:e.createdAt,action:n("div",{className:"flex gap-1",children:[a(b,{to:`/admin/category/edit/${e._id}`,children:a(c,{style:{background:"#1677ff"},type:"primary",children:"Edit"})}),a(c,{danger:!0,className:"text-light ml-2",onClick:()=>g(e._id),children:"Delete"}),a(c,{className:"text-light ml-2",onClick:()=>f(e._id),children:"Push"})]})})):"";return n("div",{children:[a("div",{className:"p-2",style:{display:"flex",gap:"0 10px",justifyContent:"center"},children:o?o.map((e,t)=>a("div",{children:e.path=="/"?"":a(u.Group,{value:p,children:a(u,{name:"aa",onChange:()=>x(e._id),children:e.name})})},t)):""}),n("div",{className:"flex gap-2",children:[a(I,{className:"w-9/12",columns:j,dataSource:N,pagination:{defaultPageSize:5,showSizeChanger:!0,pageSizeOptions:["5","20","30"]}}),n("form",{className:"w-3/12",onSubmit:h(y),children:[a("div",{className:"text-black",children:"Th\xEAm"}),a("div",{className:"group",children:a("input",{placeholder:"T\xEAn danh m\u1EE5c",...s("name"),type:"text",className:"input2 "})}),a("div",{className:"group",children:a("input",{placeholder:"M\xF4 t\u1EA3",...s("des"),type:"text",className:"input2"})}),a("div",{className:"group",children:a("input",{placeholder:"T\u1ED5ng s\u1ED1 t\u1EADp",...s("sumSeri"),type:"text",className:"input2"})}),a("div",{className:"group",children:a("input",{placeholder:"Ki\u1EC3u",...s("type"),type:"text",className:"input2"})}),a("div",{className:"group",children:a("input",{placeholder:"Theo tu\u1EA7n",...s("week"),type:"text",className:"input2"})}),a("div",{className:"group",children:a("input",{type:"file",name:"file",...s("file"),className:"form-control"})}),a(c,{htmlType:"submit",children:"Add"})]})]})]})};export{P as default};
