import{r as p,y as A,ah as I,f as d,j as a,aY as m}from"./vendor.66f3a2e0.js";import{n as L,g as D,e as P,V as T,c as U,J as o,W as _,X as F,q as S,Y as N,Z as $,_ as j,$ as B}from"./index.e76d8f75.js";import{M as u}from"./index.007119b0.js";import{M as x}from"./index.74a30ed7.js";const O=()=>{var v,f;const{categorymain:l,seri:s}=p.exports.useContext(L),[w,y]=p.exports.useState(!1),{data:b}=D(e=>e.category.category),{id:c}=A(),{handleSubmit:g,reset:C,control:n}=I(),h=P(),[r,M]=p.exports.useState({});p.exports.useEffect(()=>{(async()=>{const{payload:i}=await h($(c));C(i),M(i)})()},[]);const V=async e=>{var E;const i=new FormData;i.append("name",e.name),i.append("options",e.options),i.append("category",e.category),i.append("_id",c),i.append("seri",e.seri),i.append("LinkCopyright",e.LinkCopyright),i.append("copyright",e.copyright),i.append("descriptions",e.descriptions),i.append("trailer",e.trailer),i.append("image",e.image),i.append("year",e.year),i.append("country",e.country),i.append("typeId",e.typeId),i.append("categorymain",e.categorymain),i.append("dailyMotionServer",e.dailyMotionServer),i.append("link",e.link),i.append("imageLink",e.image),i.append("view",e.view);const t=await h(j(i));((E=t==null?void 0:t.meta)==null?void 0:E.requestStatus)=="fulfilled"&&m.success(`Edit ${e.name} Success`)},k=async e=>{try{const i=new FormData;i.append("fileupload",e.fileupload),await B(c,i)&&(m.success(`${e.name} Susscessfully Uploaded`),y(!0))}catch{m.success(`${e.name} Failer Uploaded`)}finally{y(!1)}};return d("div",{children:[a(T,{level:4,children:a(U,{to:`/d/${r._id}?c=${(v=r.category)==null?void 0:v._id}`,children:r.name+" t\u1EADp "+r.seri})}),d("form",{onSubmit:g(V),children:[a(o,{name:"name",label:"Product name",control:n,rules:void 0}),a(o,{name:"seri",label:"Seri",control:n,rules:void 0}),a(o,{name:"view",label:"View",control:n,rules:void 0}),a(o,{name:"descriptions",label:"Desciption",control:n,rules:void 0}),a(o,{name:"LinkCopyright",label:"LinkCopyright",control:n,rules:void 0}),a(o,{name:"link",label:"Video Url",control:n,rules:void 0}),a(o,{name:"dailyMotionServer",label:"DailyMotionServer",control:n,rules:void 0}),a(o,{name:"server2",label:"Assb server",control:n,rules:void 0}),a(o,{name:"trailer",label:"Trailer Video",control:n,rules:void 0}),a("div",{style:{width:"150px",height:"200px"},children:a(_,{src:F(200,(f=r==null?void 0:r.category)==null?void 0:f.linkImg),className:"w-full h-full"})}),a("br",{}),a(x,{name:"image",label:"New Image Upload",control:n}),a(o,{name:"year",label:"Year",control:n,rules:void 0}),a(o,{name:"country",label:"country",control:n,rules:void 0}),a(o,{name:"options",label:"Options",control:n,rules:void 0}),a(o,{name:"imageLink",label:"Image Link",control:n,rules:void 0}),a(u,{label:"Category",control:n,name:"category",defaultValue:"category",options:b&&b.map((e,i)=>({label:e.name,value:e._id}))}),a("br",{}),a(u,{name:"typeId",label:"Th\u1EC3 lo\u1EA1i c\u1EE7a phim l\u1EBB",control:n,defaultValue:"Th\u1EC3 lo\u1EA1i",options:s&&(s==null?void 0:s.map((e,i)=>({label:e.name,value:e._id})))}),a("br",{}),a(u,{control:n,name:"Th\u1EC3 lo\u1EA1i c\u1EE7a danh m\u1EE5c th\u1EC3 lo\u1EA1i g\u1ED3m c\xE1c danh m\u1EE5c con",label:"Categorymain",placeholder:"categorymain",defaultValue:"categorymain",options:l&&(l==null?void 0:l.map((e,i)=>({label:e.name,value:e._id})))}),a("br",{}),a(S,{htmlType:"submit",className:"btn btn-primary mt-2",children:"Submit"})]}),a(N,{textColor:"#000",orientation:"center",children:"Abyss Server"}),d("form",{onSubmit:g(k),children:[a(x,{name:"fileupload",label:"New Video Upload",control:n}),a("div",{className:"mt-2",children:a(S,{loading:w,htmlType:"submit",className:"btn btn-primary",children:"Submit"})})]})]})};export{O as default};
