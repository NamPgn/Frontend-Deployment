import{f as A,x as k,a1 as S,r as c,q as v,a2 as C,a,I as E,j as n,c as I,B as i,a3 as u,T,Q as r,a4 as b,a5 as w}from"./index.812fc5d4.js";import{p as D}from"./type.32115073.js";import{u as F}from"./index.esm.61d33a9f.js";const j=[{title:"Stt",dataIndex:"stt",key:"stt"},{title:"Name",dataIndex:"name",key:"name"},{title:"Image",dataIndex:"image",key:"Image"},{title:"CreateAt",dataIndex:"createAt",key:"createAt"},{title:"Action",dataIndex:"action",key:"action"}],P=()=>{const l=A(),d=k(S),{seri:o}=c.exports.useContext(v),[p,m]=c.exports.useState(null),{register:s,handleSubmit:h}=F(),y=e=>{const t=new FormData;t.append("name",e.name),t.append("des",e.des),t.append("sumSeri",e.sumSeri),t.append("week",e.week),t.append("type",e.type),t.append("file",e.file[0]),r.success("Th\xE0nh c\xF4ng"),l(b(t))},g=e=>{e?(r.success("Delete Success"),l(w(e))):r.error("Delete Fail")};c.exports.useEffect(()=>{l(C())},[]);const x=e=>{m(e)},f=async e=>{await D(p,{categoryId:e})},N=d?d.data.map((e,t)=>({key:e._id,stt:t+1,name:e.name,image:a(E,{width:150,height:200,style:{objectFit:"cover"},src:e.linkImg}),createAt:e.createdAt,action:n("div",{className:"flex gap-1",children:[a(I,{to:`/admin/category/edit/${e._id}`,children:a(i,{style:{background:"#1677ff"},type:"primary",children:"Edit"})}),a(i,{danger:!0,className:"text-light ml-2",onClick:()=>g(e._id),children:"Delete"}),a(i,{className:"text-light ml-2",onClick:()=>f(e._id),children:"Push"})]})})):"";return n("div",{children:[a("div",{className:"p-2",style:{display:"flex",gap:"0 10px",justifyContent:"center"},children:o?o.map((e,t)=>a("div",{children:a(u.Group,{value:p,children:a(u,{name:"aa",onChange:()=>x(e._id),children:e.name})})},t)):""}),n("div",{className:"flex gap-2",children:[a(T,{className:"w-9/12",columns:j,dataSource:N,pagination:{defaultPageSize:5,showSizeChanger:!0,pageSizeOptions:["5","20","30"]}}),n("form",{className:"w-3/12",onSubmit:h(y),children:[a("div",{className:"text-black",children:"Th\xEAm"}),a("div",{className:"group",children:a("input",{placeholder:"T\xEAn danh m\u1EE5c",...s("name"),type:"text",className:"input2 "})}),a("div",{className:"group",children:a("input",{placeholder:"M\xF4 t\u1EA3",...s("des"),type:"text",className:"input2"})}),a("div",{className:"group",children:a("input",{placeholder:"T\u1ED5ng s\u1ED1 t\u1EADp",...s("sumSeri"),type:"text",className:"input2"})}),a("div",{className:"group",children:a("input",{placeholder:"Ki\u1EC3u",...s("type"),type:"text",className:"input2"})}),a("div",{className:"group",children:a("input",{placeholder:"Theo tu\u1EA7n",...s("week"),type:"text",className:"input2"})}),a("div",{className:"group",children:a("input",{type:"file",name:"file",...s("file"),className:"form-control"})}),a(i,{htmlType:"submit",children:"Add"})]})]})]})};export{P as default};
