import{r as t,w as V,af as I,j as e,aW as d}from"./vendor-5f4444f9.js";import{n as L,g as C,e as U,U as A,c as P,J as r,V as D,W as F,q as j,X as N,Y as T,Z as _,_ as E}from"./index-2f3f1e79.js";import{M as h}from"./index-f8923573.js";import{M as v}from"./index-00a86373.js";const B=()=>{var x,b;const{seri:o}=t.useContext(L),[f,c]=t.useState(!1),{data:m}=C(s=>s.category.category),{id:p}=V(),{handleSubmit:u,reset:S,control:i}=I(),y=U(),[n,w]=t.useState({});t.useEffect(()=>{(async()=>{const{payload:a}=await y(T(p));S(a),w(a)})()},[]);const M=async s=>{var g;const a=new FormData;a.append("name",s.name),a.append("options",s.options),a.append("category",s.category),a.append("_id",p),a.append("seri",s.seri),a.append("LinkCopyright",s.LinkCopyright),a.append("copyright",s.copyright),a.append("descriptions",s.descriptions),a.append("trailer",s.trailer),a.append("image",s.image),a.append("year",s.year),a.append("country",s.country),a.append("typeId",s.typeId),a.append("categorymain",s.categorymain),a.append("dailyMotionServer",s.dailyMotionServer),a.append("link",s.link),a.append("imageLink",s.image),a.append("view",s.view);const l=await y(_(a));((g=l==null?void 0:l.meta)==null?void 0:g.requestStatus)=="fulfilled"&&d.success(`Edit ${s.name} Success`)},k=async s=>{try{const a=new FormData;a.append("fileupload",s.fileupload),await E(p,a)&&(d.success(`${s.name} Susscessfully Uploaded`),c(!0))}catch{d.success(`${s.name} Failer Uploaded`)}finally{c(!1)}};return e.jsxs("div",{children:[e.jsx(A,{level:4,children:e.jsx(P,{to:`/d/${n._id}?c=${(x=n.category)==null?void 0:x._id}`,children:n.name+" tập "+n.seri})}),e.jsxs("form",{onSubmit:u(M),children:[e.jsx(r,{name:"name",label:"Product name",control:i,rules:void 0}),e.jsx(r,{name:"seri",label:"Seri",control:i,rules:void 0}),e.jsx(r,{name:"view",label:"View",control:i,rules:void 0}),e.jsx(r,{name:"descriptions",label:"Desciption",control:i,rules:void 0}),e.jsx(r,{name:"LinkCopyright",label:"LinkCopyright",control:i,rules:void 0}),e.jsx(r,{name:"link",label:"Video Url",control:i,rules:void 0}),e.jsx(r,{name:"dailyMotionServer",label:"DailyMotionServer",control:i,rules:void 0}),e.jsx(r,{name:"server2",label:"Assb server",control:i,rules:void 0}),e.jsx(r,{name:"trailer",label:"Trailer Video",control:i,rules:void 0}),e.jsx("div",{style:{width:"150px",height:"200px"},children:e.jsx(D,{src:F(200,(b=n==null?void 0:n.category)==null?void 0:b.linkImg),className:"w-full h-full"})}),e.jsx("br",{}),e.jsx(v,{name:"image",label:"New Image Upload",control:i}),e.jsx(r,{name:"year",label:"Year",control:i,rules:void 0}),e.jsx(r,{name:"country",label:"country",control:i,rules:void 0}),e.jsx(r,{name:"options",label:"Options",control:i,rules:void 0}),e.jsx(r,{name:"imageLink",label:"Image Link",control:i,rules:void 0}),e.jsx(h,{label:"Category",control:i,name:"category",defaultValue:"category",options:m&&m.map((s,a)=>({label:s.name,value:s._id}))}),e.jsx("br",{}),e.jsx(h,{name:"typeId",label:"Thể loại của phim lẻ",control:i,defaultValue:"Thể loại",options:o&&(o==null?void 0:o.map((s,a)=>({label:s.name,value:s._id})))}),e.jsx("br",{}),e.jsx("br",{}),e.jsx(j,{htmlType:"submit",className:"btn btn-primary mt-2",children:"Submit"})]}),e.jsx(N,{textColor:"#000",orientation:"center",children:"Abyss Server"}),e.jsxs("form",{onSubmit:u(k),children:[e.jsx(v,{name:"fileupload",label:"New Video Upload",control:i}),e.jsx("div",{className:"mt-2",children:e.jsx(j,{loading:f,htmlType:"submit",className:"btn btn-primary",children:"Submit"})})]})]})};export{B as default};
