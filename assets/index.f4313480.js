import{l as m,g as u,r as p,bs as h,j as t,c as a,b as g,H as c,p as n,E as f,K as y,bt as C,bu as S,Q as d}from"./index.bf3385a7.js";import{M as b}from"./index.d963af88.js";import{I as D}from"./index.e51e4306.js";import{D as M}from"./DeleteOutlined.58cf4cf1.js";const x=o=>o.comment.value,k=()=>{const o=m(x),r=u();p.exports.useEffect(()=>{r(h())},[]);const l=async(e,s)=>{(await r(S({commentId:e,productId:s}))).payload?d.success("Delete comment successfully"):d.error("Error deleting comment")},i=o&&o.filter(e=>e.user!==null).map((e,s)=>(console.log(e),{key:e._id,stt:s+1,name:e.commentContent,user:e.user.username,image:t(D,{width:60,height:80,style:{objectFit:"cover"},src:e.user.image}),product:t(a,{to:"/d/"+e.product._id+`?c=${e.product.category}`,children:e.product.name+" "+e.product.seri}),permission:e.role==0?"User":"Admin",day:e.createdAt.toString("DD-MM-YYYY"),action:g(c,{children:[t(a,{to:`/dashboard/comment/${e._id}`,children:t(n,{danger:!0,shape:"circle",children:t(f,{})})}),t(b,{title:"Delete the product",onConfirm:()=>l(e._id,e.product._id),okText:"Yes",cancelText:"No",children:t(n,{shape:"circle",className:"ml-2",children:t(M,{})})})]})}));return t(c,{children:t(y,{columns:C,dataSource:i,pagination:{defaultPageSize:5,showSizeChanger:!0,pageSizeOptions:["5","10","15"]}})})};export{k as default};
