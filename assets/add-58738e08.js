import{r as m,af as M,j as e,aQ as k,aV as u}from"./vendor-6b39dd86.js";import{n as L,g as V,e as C,J as n,q as y,c as I,T as A}from"./index-de6b145e.js";import{M as l}from"./index-c13dc480.js";import{M as w}from"./index-7112a7aa.js";const N=()=>{const{categorymain:s,seri:r}=m.useContext(L),{data:p}=V(a=>a.category.category),[x,g]=m.useState(""),b=C(),{handleSubmit:h,control:i}=M(),j=p&&p.map((a,o)=>({label:a.name,value:a._id})),v=s&&(s==null?void 0:s.map((a,o)=>({label:a.name,value:a._id}))),f=r&&(r==null?void 0:r.map((a,o)=>({label:a.name,value:a._id}))),S=async a=>{var d,c;const o=new FormData;o.append("name",a.name),o.append("options",a.options),o.append("category",a.category),o.append("seri",a.seri),o.append("LinkCopyright",a.LinkCopyright),o.append("copyright",a.copyright),o.append("descriptions",a.descriptions),o.append("trailer",a.trailer),o.append("image",a.image),o.append("year",a.year),o.append("country",a.country),o.append("typeId",a.typeId),o.append("categorymain",a.categorymain),o.append("dailyMotionServer",a.dailyMotionServer),o.append("imageLink",a.imageLink),o.append("video2",a.video2);const t=await b(A(o));g((c=(d=t==null?void 0:t.payload)==null?void 0:d.data)==null?void 0:c._id),t.payload.success===!0?u.success("Add product Successfully"):u.error("Add product failed")};return e.jsx("div",{children:e.jsxs("form",{onSubmit:h(S),children:[e.jsx(n,{name:"name",label:"Product name",control:i,rules:void 0}),e.jsx(n,{name:"view",label:"View",control:i,rules:void 0}),e.jsx(n,{name:"seri",label:"Seri",control:i,rules:void 0}),e.jsx(n,{name:"descriptions",label:"Desciption",control:i,rules:void 0}),e.jsx(n,{name:"copyright",label:"Copyright",control:i,rules:void 0}),e.jsx(n,{name:"LinkCopyright",label:"LinkCopyright",control:i,rules:void 0}),e.jsx(w,{name:"image",label:"New Image Upload",control:i}),e.jsx(n,{name:"dailyMotionServer",label:"DailyMotionServer",control:i,rules:void 0}),e.jsx(n,{name:"trailer",label:"Trailer Video",control:i,rules:void 0}),e.jsx(n,{name:"year",label:"Year",control:i,rules:void 0}),e.jsx(n,{name:"country",label:"Country",control:i,rules:void 0}),e.jsx(n,{name:"options",label:"Options",control:i,rules:void 0}),e.jsx(n,{name:"video2",label:"Video Link",control:i,rules:void 0}),e.jsx(n,{name:"imageLink",label:"Image Link",control:i,rules:void 0}),e.jsx(l,{control:i,name:"category",label:"Category",placeholder:"category",defaultValue:"category",options:j}),e.jsx("br",{}),e.jsx(l,{name:"typeId",label:"Thể loại của phim lẻ",control:i,placeholder:"typeId",defaultValue:"typeId",options:f}),e.jsx("br",{}),e.jsx(l,{name:"categorymain",label:"Thể loại của danh mục thể loại gồm các danh mục con",control:i,placeholder:"categorymain",defaultValue:"categorymain",options:v}),e.jsx("br",{}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"mt-2",children:e.jsx(y,{htmlType:"submit",className:"btn btn-primary",children:"Submit"})}),e.jsx(I,{to:`/dashboard/product/edit/${x}`,children:e.jsx(y,{type:"text",danger:!0,shape:"circle",children:e.jsx(k,{})})})]})]})})};export{N as default};
