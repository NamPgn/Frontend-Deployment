import{f as k,a2 as A,aj as S,r as i,ac as v,ak as C,a,X as E,j as n,c as I,Y as l,al as u,$ as T,T as r,am as b,an as w}from"./index.925a885c.js";import{p as D}from"./type.c9216298.js";import{u as j}from"./index.esm.10e4c1ef.js";const F=[{title:"Stt",dataIndex:"stt",key:"stt"},{title:"Name",dataIndex:"name",key:"name"},{title:"Image",dataIndex:"image",key:"Image"},{title:"CreateAt",dataIndex:"createAt",key:"createAt"},{title:"Action",dataIndex:"action",key:"action"}],P=()=>{const c=k(),d=A(S),{seri:o}=i.exports.useContext(v),[p,m]=i.exports.useState(null),{register:s,handleSubmit:h}=j(),y=e=>{const t=new FormData;t.append("name",e.name),t.append("des",e.des),t.append("sumSeri",e.sumSeri),t.append("week",e.week),t.append("type",e.type),t.append("file",e.file[0]),r.success("Th\xE0nh c\xF4ng"),c(b(t))},g=e=>{e?(r.success("Delete Success"),c(w(e))):r.error("Delete Fail")};i.exports.useEffect(()=>{c(C())},[]);const x=e=>{m(e)},f=async e=>{await D(p,{categoryId:e})},N=d?d.map((e,t)=>({key:e._id,stt:t+1,name:e.name,image:a(E,{width:150,height:200,style:{objectFit:"cover"},src:e.linkImg}),createAt:e.createdAt,action:n("div",{className:"flex gap-1",children:[a(I,{to:`/admin/category/edit/${e._id}`,children:a(l,{style:{background:"#1677ff"},type:"primary",children:"Edit"})}),a(l,{danger:!0,className:"text-light ml-2",onClick:()=>g(e._id),children:"Delete"}),a(l,{className:"text-light ml-2",onClick:()=>f(e._id),children:"Push"})]})})):"";return n("div",{children:[a("div",{className:"p-2",style:{display:"flex",gap:"0 10px",justifyContent:"center"},children:o?o.map((e,t)=>a("div",{children:a(u.Group,{value:p,children:a(u,{name:"aa",onChange:()=>x(e._id),children:e.name})})},t)):""}),n("div",{className:"flex gap-2",children:[a(T,{className:"w-9/12",columns:F,dataSource:N,pagination:{defaultPageSize:5,showSizeChanger:!0,pageSizeOptions:["5","20","30"]}}),n("form",{className:"w-3/12",onSubmit:h(y),children:[a("div",{className:"text-black",children:"Th\xEAm"}),a("div",{className:"group",children:a("input",{placeholder:"T\xEAn danh m\u1EE5c",...s("name"),type:"text",className:"input2 "})}),a("div",{className:"group",children:a("input",{placeholder:"M\xF4 t\u1EA3",...s("des"),type:"text",className:"input2"})}),a("div",{className:"group",children:a("input",{placeholder:"T\u1ED5ng s\u1ED1 t\u1EADp",...s("sumSeri"),type:"text",className:"input2"})}),a("div",{className:"group",children:a("input",{placeholder:"Ki\u1EC3u",...s("type"),type:"text",className:"input2"})}),a("div",{className:"group",children:a("input",{placeholder:"Theo tu\u1EA7n",...s("week"),type:"text",className:"input2"})}),a("div",{className:"group",children:a("input",{type:"file",name:"file",...s("file"),className:"form-control"})}),a(l,{htmlType:"submit",children:"Add"})]})]})]})};export{P as default};
