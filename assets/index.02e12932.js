import{g as w,l as A,aD as T,r as d,i as D,k as E,aE as F,j as a,ab as I,b as r,c as M,p as o,R as N,aF as h,m as _,o as y,I as j,aG as R,an as n,av as G,au as V,aH as W,Q as i,aI as z}from"./index.276f64d2.js";import{p as P}from"./type.3438ea97.js";const H=()=>{const c=w(),p=A(T),{seri:u,weeks:l}=d.exports.useContext(D),[m,g]=d.exports.useState(null),{handleSubmit:b,control:t,register:O}=E(),f=async e=>{const s=new FormData;s.append("name",e.name),s.append("des",e.des),s.append("sumSeri",e.sumSeri),s.append("week",e.week),s.append("type",e.type),s.append("file",e.file),s.append("up",e.up),(await c(W(s))).payload.success?i.success("Th\xE0nh c\xF4ng"):i.error("Th\u1EA5t b\u1EA1i")},S=e=>{e?(i.success("Delete Success"),c(z(e))):i.error("Delete Fail")};d.exports.useEffect(()=>{c(F())},[]);const x=e=>{g(e)},C=async e=>{await P(m,{categoryId:e})},v=l&&(l==null?void 0:l.map((e,s)=>({label:e.name,value:e._id}))),k=p.data&&p.data.map((e,s)=>({key:e._id,stt:s+1,name:e.name,image:a(I,{width:150,height:200,style:{objectFit:"cover"},src:e.linkImg}),createAt:e.createdAt,action:r("div",{className:"flex gap-1",children:[a(M,{to:`/dashboard/category/edit/${e._id}`,children:a(o,{style:{background:"#1677ff"},type:"primary",children:"Edit"})}),a(o,{danger:!0,className:"text-light ml-2",onClick:()=>S(e._id),children:"Delete"}),a(o,{className:"text-light ml-2",onClick:()=>C(e._id),children:"Push"})]})}));return r(N.Fragment,{children:[a("div",{className:"p-2",style:{display:"flex",gap:"0 10px",justifyContent:"center"},children:u&&u.map((e,s)=>a("div",{children:e.path=="/"?"":a(h.Group,{value:m,children:a(h,{name:"aa",onChange:()=>x(e._id),children:e.name})})},s))}),r(_,{gutter:10,children:[a(y,{span:18,children:a(j,{columns:R,dataSource:k,pagination:{defaultPageSize:5,showSizeChanger:!0,pageSizeOptions:["5","20","30"]}})}),a(y,{span:6,children:r("form",{onSubmit:b(f),children:[a(n,{name:"name",label:"Name",control:t,rules:void 0}),a(n,{name:"des",label:"Description",control:t,rules:void 0}),a(n,{name:"sumSeri",label:"Sum seri",control:t,rules:void 0}),a(n,{name:"type",label:"Type",control:t,rules:void 0}),a(n,{name:"week",label:"Week",control:t,rules:void 0}),a(n,{name:"up",label:"Set",control:t,rules:void 0}),a(G,{name:"week",label:"Theo tu\u1EA7n",control:t,placeholder:"Week",defaultValue:void 0,style:{width:200},options:v}),a(V,{name:"file",label:"Upload",control:t}),a(o,{htmlType:"submit",className:"mt-2",children:"Create"})]})})]})]})};export{H as default};
