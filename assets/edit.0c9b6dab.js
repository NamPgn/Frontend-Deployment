import{r as d,i as A,u as L,m as I,g as D,d as c,j as a,bt as P,e as T,aY as l,bu as U,ar as S,bv as F,bw as N,bx as _,aB as u,by as $}from"./index.ea8ef6c2.js";import{M as b}from"./index.2144276c.js";import{M as x}from"./index.2d400baa.js";import"./DownloadOutlined.c8f91dc6.js";const O=()=>{var v,f;const{categorymain:o,category:s,seri:t}=d.exports.useContext(A),[w,y]=d.exports.useState(!1),{id:m}=L(),{handleSubmit:g,reset:M,control:n}=I(),h=D(),[r,C]=d.exports.useState({});d.exports.useEffect(()=>{(async()=>{const{payload:i}=await h(N(m));M(i),C(i)})()},[]);const k=async e=>{var E;const i=new FormData;i.append("name",e.name),i.append("options",e.options),i.append("category",e.category),i.append("_id",m),i.append("seri",e.seri),i.append("LinkCopyright",e.LinkCopyright),i.append("copyright",e.copyright),i.append("descriptions",e.descriptions),i.append("trailer",e.trailer),i.append("image",e.image),i.append("year",e.year),i.append("country",e.country),i.append("typeId",e.typeId),i.append("categorymain",e.categorymain),i.append("dailyMotionServer",e.dailyMotionServer),i.append("link",e.link),i.append("imageLink",e.image),i.append("view",e.view);const p=await h(_(i));((E=p==null?void 0:p.meta)==null?void 0:E.requestStatus)=="fulfilled"&&u.success(`Edit ${e.name} Success`)},V=async e=>{try{const i=new FormData;i.append("fileupload",e.fileupload),await $(m,i)&&(u.success(`${e.name} Susscessfully Uploaded`),y(!0))}catch{u.success(`${e.name} Failer Uploaded`)}finally{y(!1)}};return c("div",{children:[a(P,{level:4,children:a(T,{to:`/d/${r._id}?c=${(v=r.category)==null?void 0:v._id}`,children:r.name+" t\u1EADp "+r.seri})}),c("form",{onSubmit:g(k),children:[a(l,{name:"name",label:"Product name",control:n,rules:void 0}),a(l,{name:"seri",label:"Seri",control:n,rules:void 0}),a(l,{name:"view",label:"View",control:n,rules:void 0}),a(l,{name:"descriptions",label:"Desciption",control:n,rules:void 0}),a(l,{name:"LinkCopyright",label:"LinkCopyright",control:n,rules:void 0}),a(l,{name:"link",label:"Video Url",control:n,rules:void 0}),a(l,{name:"dailyMotionServer",label:"DailyMotionServer",control:n,rules:void 0}),a(l,{name:"server2",label:"Assb server",control:n,rules:void 0}),a(l,{name:"trailer",label:"Trailer Video",control:n,rules:void 0}),a("div",{style:{width:"150px",height:"200px"},children:a(U,{src:(f=r==null?void 0:r.category)==null?void 0:f.linkImg,className:"w-full h-full"})}),a("br",{}),a(x,{name:"image",label:"New Image Upload",control:n}),a(l,{name:"year",label:"Year",control:n,rules:void 0}),a(l,{name:"country",label:"country",control:n,rules:void 0}),a(l,{name:"options",label:"Options",control:n,rules:void 0}),a(l,{name:"imageLink",label:"Image Link",control:n,rules:void 0}),a(b,{label:"Category",control:n,name:"category",defaultValue:"category",options:s&&(s==null?void 0:s.data.map((e,i)=>({label:e.name,value:e._id})))}),a("br",{}),a(b,{name:"typeId",label:"Th\u1EC3 lo\u1EA1i c\u1EE7a phim l\u1EBB",control:n,defaultValue:"Th\u1EC3 lo\u1EA1i",options:t&&(t==null?void 0:t.map((e,i)=>({label:e.name,value:e._id})))}),a("br",{}),a(b,{control:n,name:"Th\u1EC3 lo\u1EA1i c\u1EE7a danh m\u1EE5c th\u1EC3 lo\u1EA1i g\u1ED3m c\xE1c danh m\u1EE5c con",label:"Categorymain",placeholder:"categorymain",defaultValue:"categorymain",options:o&&(o==null?void 0:o.map((e,i)=>({label:e.name,value:e._id})))}),a("br",{}),a(S,{htmlType:"submit",className:"btn btn-primary mt-2",children:"Submit"})]}),a(F,{textColor:"#000",orientation:"center",children:"Abyss Server"}),c("form",{onSubmit:g(V),children:[a(x,{name:"fileupload",label:"New Video Upload",control:n}),a("div",{className:"mt-2",children:a(S,{loading:w,htmlType:"submit",className:"btn btn-primary",children:"Submit"})})]})]})};export{O as default};
