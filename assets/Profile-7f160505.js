import{M as j,r as N,ai as y,aj as i,ae as v,j as e,X as w,V as k,aR as C,ah as F}from"./vendor-4beb22e1.js";import{a as L,M as E,u as U,C as I,D as M,E as P,o as S,p as V}from"./index-6e4fd709.js";const q=()=>{var r,m;const n=L(),c=j(),{user:s}=N.useContext(E)||{},g=y().shape({username:i().required(),email:i().required().email(),firstName:i().optional(),lastName:i().optional()}),{register:l,handleSubmit:x,formState:{errors:a}}=v({resolver:F(g)}),u=U(t=>t.user.isLoading),p=async t=>{var o;const f=t.target.files[0],d=new FormData;d.append("file",f);const b={id:s._id,formData:d};(o=(await n(P(b))).payload)!=null&&o.success?S("Image saved successfully"):V("Image saved failed")},h=async t=>{console.log(t)};return e.jsx("div",{className:"flex justify-around",children:e.jsxs("form",{className:"bg-[#1b1b1b18] p-5 rounded-lg lg:w-4/12 md:w-6/12 w-full",onSubmit:x(h),children:[e.jsxs("div",{className:"space-y-12",children:[e.jsxs("div",{className:"border-b border-gray-50/10 pb-12",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h2",{className:"text-base font-semibold leading-7 text-white",children:"Profile"}),e.jsxs("button",{onClick:()=>I(n,c),className:"inline-flex gap-2 items-center px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 text-sm font-medium rounded-md",children:[e.jsx(w,{}),"Logout"]})]}),e.jsx("div",{className:"flex justify-center",children:u?e.jsx("div",{className:"seriLoading",children:"Loading..."}):e.jsx("div",{className:"h-40 w-40",children:s?e.jsx("img",{className:"object-cover h-full p-1 rounded-lg ring-2 ring-indigo-300 dark:ring-indigo-500",src:s.image,alt:s.username}):e.jsx(M,{title:s==null?void 0:s.name,src:void 0,size:40,icon:e.jsx(k,{})})})}),e.jsx("div",{className:"text-center m-5",children:e.jsx("input",{type:"file",className:`text-white underline text-sm text-grey-500\r
                          file:mr-5 file:py-2 file:px-6\r
                          file:rounded-full file:border-0\r
                          file:text-sm file:font-medium\r
                        file:bg-blue-50 file:text-blue-700\r
                          hover:file:cursor-pointer hover:file:bg-amber-50\r
                           hover:file:text-amber-700`,onChange:p})}),e.jsxs("div",{className:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"first-name",className:"block text-sm font-medium leading-6 text-white",children:"Username"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{...l("username"),defaultValue:s.username,placeholder:"Username",type:"text",name:"Username",id:"Username",autoComplete:"given-name",className:"block w-full p-2 bg-transparent rounded-md border-0 py-1.5 text-[#999] shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"}),a.username&&e.jsx("div",{className:"text-sm text-pink-600 mt-1",children:a.username.message})]})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-white",children:"Email"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{...l("email"),placeholder:" email",type:"text",name:"email",id:"email",autoComplete:"family-name",className:"block w-full p-2 bg-transparent rounded-md border-0 py-1.5 text-white shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"}),a.email&&e.jsx("div",{className:"text-sm text-pink-600 mt-1",children:a.email.message})]})]})]})]}),e.jsxs("div",{className:"border-b border-gray-900/10 pb-12",children:[e.jsx("h2",{className:"text-base font-semibold leading-7 text-white",children:"Personal Information"}),e.jsx("p",{className:"mt-1 text-sm leading-6 text-gray-300",children:"Use a permanent address where you can receive mail."}),e.jsxs("div",{className:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"first-name",className:"block text-sm font-medium leading-6 text-white",children:"First name"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{placeholder:"First name",type:"text",name:"first-name",id:"first-name",autoComplete:"given-name",className:"block w-full p-2 bg-transparent rounded-md border-0 py-1.5 text-[#999] shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"}),a.email&&e.jsx("div",{className:"text-sm text-pink-600 mt-1",children:(r=a.firstName)==null?void 0:r.message})]})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"last-name",className:"block text-sm font-medium leading-6 text-white",children:"Last name"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{placeholder:" Last name",type:"text",name:"last-name",id:"last-name",autoComplete:"family-name",className:"block w-full p-2 bg-transparent rounded-md border-0 py-1.5 text-white shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"}),a.email&&e.jsx("div",{className:"text-sm text-pink-600 mt-1",children:(m=a.lastName)==null?void 0:m.message})]})]})]})]})]}),e.jsx("div",{className:"mt-6 flex items-center justify-end gap-x-6",children:e.jsxs("button",{className:"inline-flex gap-2 items-center px-4 py-2 bg-indigo-500 hover:bg-indigo-600 text-white text-sm font-medium rounded-md",children:[e.jsx(C,{}),"Update Profile"]})})]})})};export{q as default};
