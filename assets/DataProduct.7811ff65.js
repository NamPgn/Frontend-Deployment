import{s as b,r as a,h as L,f as M,t as O,j as t,I as T,b as g,F as f,c as s,B as i,T as X,Q as x,v as Q,w as Y,i as $}from"./index.c300bba3.js";const p=b.div``,q=b.button``,k=b.input``,G=[{title:"Select",key:"all",dataIndex:"all",width:100,fixed:"left"},{title:"Name",dataIndex:"name",key:"name"},{title:"Options",dataIndex:"options",key:"options"},{title:"Image",key:"image",dataIndex:"image"},{title:"Category",key:"category",dataIndex:"category"},{title:"Seri",key:"Seri",dataIndex:"Seri",width:100},{title:"Copyright",key:"copyright",dataIndex:"copyright",width:100},{title:"Trailer",dataIndex:"trailer",key:"trailer",width:100},{title:"Year",dataIndex:"year",key:"year",width:100},{title:"Country",dataIndex:"country",key:"country",width:100},{title:"Action",key:"action",dataIndex:"action",width:180,fixed:"right"}],H=({product:n,length:h})=>{const{category:o}=a.exports.useContext(L),[C,I]=a.exports.useState(""),[y,A]=a.exports.useState(""),[r,l]=a.exports.useState([]),[u,P]=a.exports.useState(!1),[D,E]=a.exports.useState(!1),[m,F]=a.exports.useState(1),S=M();a.exports.useEffect(()=>{S(O(m)),document.title="Admin Page"},[D,m]);let c=n;C.length&&(c=n.filter(e=>e.name.toLowerCase().includes(C.toLowerCase()))),y.length&&(c=n.filter(e=>y==e.category),y=="all"&&n.map(e=>c.push(e)));const _=e=>{r.includes(e)?l(r.filter(d=>d!==e)):l([...r,e])},N=()=>{P(!u),l(u?[]:n.map(e=>e._id))},j=async()=>{window.confirm(r)==!0&&(E(!0),x.success("X\xF3a t\u1EA5t c\u1EA3 th\xE0nh c\xF4ng"),await Q(r))},z=async e=>{(await S(Y(e))).payload.success?x.success("Delete product successfully"):x.error("Error deleting product")},B=c?c.map((e,d)=>({key:e._id,all:t(p,{children:t(k,{className:"form-check-input",checked:r.includes(e._id),onChange:()=>_(e._id),type:"checkbox",id:"defaultCheck1"})}),name:e.name,options:e.options,category:o.data.map(w=>{if(w._id===e.category)return w.name}),image:t(T,{width:150,height:200,style:{objectFit:"cover"},src:e.image?e.image:"https://firebasestorage.googleapis.com/v0/b/mystorage-265d8.appspot.com/o/image%2Fdau-pha-thuong-khung-ova-3-hen-uoc-3-nam-856.jpg?alt=media&token=dca80d37-bb85-41a0-9fd5-c6e949e1db54"}),Seri:e.seri,copyright:e.copyright,trailer:e.trailer?"true":"false",country:e.country?e.country:"null",year:e.year?e.year:"null",action:g(f,{children:[t(s,{to:`/admin/product/edit/${e._id}`,children:t(i,{type:"primary",danger:!0,children:"Edit"})}),t(i,{style:{background:"#1677ff"},type:"primary",onClick:()=>z(e._id),children:"Delete"})]})})):"";return g(f,{children:[t(k,{type:"checkbox",checked:u,name:"",onChange:()=>N(),id:""}),t(q,{onClick:()=>{j()},className:"btn_remove text-white",children:"X\xF3a"}),t(s,{to:"/admin/product/add",children:t(i,{type:"primary",shape:"round",style:{display:"inline-block",margin:"10px 10px",background:"#1677ff"},children:"Add Product"})}),t(s,{to:"/admin/product/creacting",children:t(i,{type:"primary",shape:"round",style:{display:"inline-block",margin:"10px 10px",background:"#28a745"},children:"Add Multiple"})}),t(s,{to:"/admin/product/add",children:t(i,{type:"primary",shape:"round",style:{display:"inline-block  ",margin:"10px 10px",background:"#eca52b"},children:"Export PDF"})}),g("select",{className:"form-select-sm",onChange:e=>A(e.target.value),style:{border:"none",padding:"10px",outline:"none",width:"250px"},"aria-label":".form-select-sm example",children:[t("option",{value:"all",children:"Open this select menu"}),o?o.data.map((e,d)=>t("option",{value:e._id,children:e.name},d)):""]}),t(s,{to:"/admin/product/add",children:t(i,{type:"primary",danger:!0,shape:"round",style:{display:"inline-block  ",margin:"10px 10px"},children:"Export Excel"})}),t(p,{style:{display:"inline-block"},children:t(p,{className:"input-group",children:t(p,{className:"form-outline",children:t(k,{type:"search",id:"form1",placeholder:"search...",className:"form-control p-3 rounded",onChange:e=>{I(e.target.value)}})})})}),t(X,{columns:G,dataSource:B,scroll:{x:1500,y:1e3},pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30"],current:m,onChange:e=>{F(e)},total:h}})]})},K=()=>{const{product:n,length:h}=$(o=>o.product.value);return t(f,{children:t(H,{product:n,length:h})})};export{K as default};
