import{r as n,ae as f,j as e,aQ as S,aW as m}from"./vendor-07012f45.js";import{n as M,g as k,e as L,V as I,O as o,q as u,c as V,W as C}from"./index-b23bc153.js";import{M as y}from"./index-acc6e986.js";import{M as A}from"./index-16c8d55d.js";const O=()=>{const{seri:s}=n.useContext(M),{data:l}=k(a=>a.category.category),[x,g]=n.useState(""),d=L(),{handleSubmit:b,control:i}=f();n.useEffect(()=>{d(I(0))},[]);const h=l&&l.map((a,r)=>({label:a.name,value:a._id})),j=s&&(s==null?void 0:s.map((a,r)=>({label:a.name,value:a._id}))),v=async a=>{var p,c;const r=new FormData;r.append("name",a.name),r.append("category",a.category),r.append("seri",a.seri),r.append("LinkCopyright",a.LinkCopyright),r.append("copyright",a.copyright),r.append("trailer",a.trailer),r.append("image",a.image),r.append("typeId",a.typeId),r.append("categorymain",a.categorymain),r.append("dailyMotionServer",a.dailyMotionServer),r.append("imageLink",a.imageLink),r.append("video2",a.video2);const t=await d(C(r));g((c=(p=t==null?void 0:t.payload)==null?void 0:p.data)==null?void 0:c._id),t.payload.success===!0?m.success("Add product Successfully"):m.error("Add product failed")};return e.jsx("div",{children:e.jsxs("form",{onSubmit:b(v),children:[e.jsx(o,{name:"name",label:"Product name",control:i,rules:void 0}),e.jsx(o,{name:"view",label:"View",control:i,rules:void 0}),e.jsx(o,{name:"seri",label:"Seri",control:i,rules:void 0}),e.jsx(o,{name:"copyright",label:"Copyright",control:i,rules:void 0}),e.jsx(o,{name:"LinkCopyright",label:"LinkCopyright",control:i,rules:void 0}),e.jsx(A,{name:"image",label:"New Image Upload",control:i}),e.jsx(o,{name:"dailyMotionServer",label:"DailyMotionServer",control:i,rules:void 0}),e.jsx(o,{name:"trailer",label:"Trailer Video",control:i,rules:void 0}),e.jsx(o,{name:"video2",label:"Video Link",control:i,rules:void 0}),e.jsx(o,{name:"imageLink",label:"Image Link",control:i,rules:void 0}),e.jsx(y,{control:i,name:"category",label:"Category",placeholder:"category",defaultValue:"category",options:h}),e.jsx("br",{}),e.jsx(y,{name:"typeId",label:"Thể loại của phim lẻ",control:i,placeholder:"typeId",defaultValue:"typeId",options:j}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"mt-2",children:e.jsx(u,{htmlType:"submit",className:"btn btn-primary",children:"Submit"})}),e.jsx(V,{to:`/dashboard/product/edit/${x}`,children:e.jsx(u,{type:"text",danger:!0,shape:"circle",children:e.jsx(S,{})})})]})]})})};export{O as default};
