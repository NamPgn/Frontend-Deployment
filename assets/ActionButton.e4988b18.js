import{r as s,ao as B,W as O,j as P,B as R,a1 as S}from"./index.2b535b03.js";function d(l){return!!(l&&!!l.then)}var T=function(e){var r=s.exports.useRef(!1),f=s.exports.useRef(null),m=B(!1),v=O(m,2),h=v[0],c=v[1],o=e.close,i=function(){o==null||o.apply(void 0,arguments)};s.exports.useEffect(function(){var u=null;return e.autoFocus&&(u=setTimeout(function(){var n;(n=f.current)===null||n===void 0||n.focus()})),function(){u&&clearTimeout(u)}},[]);var x=function(n){!d(n)||(c(!0),n.then(function(){c(!1,!0),i.apply(void 0,arguments),r.current=!1},function(t){console.error(t),c(!1,!0),r.current=!1}))},C=function(n){var t=e.actionFn;if(!r.current){if(r.current=!0,!t){i();return}var a;if(e.emitEvent){if(a=t(n),e.quitOnNullishReturnValue&&!d(a)){r.current=!1,i(n);return}}else if(t.length)a=t(o),r.current=!1;else if(a=t(),!a){i();return}x(a)}},g=e.type,k=e.children,y=e.prefixCls,A=e.buttonProps;return P(R,{...S(g),onClick:C,loading:h,prefixCls:y,...A,ref:f,children:k})};const b=T;export{b as A};
