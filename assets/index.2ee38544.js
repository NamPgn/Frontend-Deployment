import{r as i,bB as $t,bC as Wt,J as G,W as ve,K as Oe,j as v,d as Ue,bD as jt,a2 as zt,F as kt,H as W,bd as rt,bE as Bt,bF as lt,_ as R,bG as Ut,$ as ht,bH as Yt,V as Gt,a4 as qt,a5 as Nt,bI as Jt,bJ as Xt,bK as Qt,a9 as Zt,aa as er,bL as tr,bM as rr,D as mt,bN as ar,bO as nr,a0 as gt,bP as or,af as lr,bq as ir,bQ as sr,bR as cr,a1 as yt,bS as ur,bT as dr,g as fr,n as vr,bU as pr,i as hr,m as mr,bV as gr,e as Ct,aq as xt,ar as et,R as yr,as as Cr,at as bt,ax as xr,bW as br,aY as Y,bX as Sr,aB as tt,bY as wr,w as Ir,x as kr}from"./index.ff8df90c.js";import{p as Nr}from"./type.54f4eb7a.js";import{M as Er}from"./index.45b4e976.js";import{M as Tr}from"./index.016ce761.js";import{I as Dr}from"./index.1467a73b.js";import"./DownloadOutlined.6d8aaa4b.js";var Et=i.exports.createContext(null),Tt=i.exports.createContext(null);function Lr(e){return Array.isArray(e)?e:e!==void 0?[e]:[]}function Mr(e){var t=e||{},n=t.label,r=t.value,o=t.children,a=r||"value";return{_title:n?[n]:["title","label"],value:a,key:a,children:o||"children"}}function it(e){return!e||e.disabled||e.disableCheckbox||e.checkable===!1}function Pr(e,t){var n=[];function r(o){o.forEach(function(a){var s=a[t.children];s&&(n.push(a[t.value]),r(s))})}return r(e),n}function St(e){return e==null}var Vr={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Ar=function(t,n){var r=$t(),o=r.prefixCls,a=r.multiple,s=r.searchValue,u=r.toggleOpen,c=r.open,f=r.notFoundContent,d=i.exports.useContext(Tt),k=d.virtual,S=d.listHeight,w=d.listItemHeight,N=d.treeData,L=d.fieldNames,l=d.onSelect,m=d.dropdownMatchSelectWidth,E=d.treeExpandAction,y=i.exports.useContext(Et),V=y.checkable,K=y.checkedKeys,pe=y.halfCheckedKeys,$=y.treeExpandedKeys,Fe=y.treeDefaultExpandAll,ke=y.treeDefaultExpandedKeys,he=y.onTreeExpand,Re=y.treeIcon,$e=y.showTreeIcon,ne=y.switcherIcon,Ne=y.treeLine,oe=y.treeNodeFilterProp,j=y.loadData,me=y.treeLoadedKeys,q=y.treeMotion,Ee=y.onTreeLoad,J=y.keyEntities,X=i.exports.useRef(),ge=Wt(function(){return N},[c,N],function(p,T){return T[0]&&p[1]!==T[1]}),Te=i.exports.useMemo(function(){return V?{checked:K,halfChecked:pe}:null},[V,K,pe]);i.exports.useEffect(function(){if(c&&!a&&K.length){var p;(p=X.current)===null||p===void 0||p.scrollTo({key:K[0]})}},[c]);var le=String(s).toLowerCase(),M=function(T){return le?String(T[oe]).toLowerCase().includes(le):!1},ie=i.exports.useState(ke),z=G(ie,2),Q=z[0],De=z[1],Le=i.exports.useState(null),ye=G(Le,2),se=ye[0],Ce=ye[1],xe=i.exports.useMemo(function(){return $?ve($):s?se:Q},[Q,se,$,s]);i.exports.useEffect(function(){s&&Ce(Pr(N,L))},[s]);var We=function(T){De(T),Ce(T),he&&he(T)},Z=function(T){T.preventDefault()},B=function(T,re){var A=re.node;V&&it(A)||(l(A.key,{selected:!K.includes(A.key)}),a||u(!1))},Me=i.exports.useState(null),H=G(Me,2),be=H[0],ee=H[1],O=J[be];if(i.exports.useImperativeHandle(n,function(){var p;return{scrollTo:(p=X.current)===null||p===void 0?void 0:p.scrollTo,onKeyDown:function(re){var A,Pe=re.which;switch(Pe){case Oe.UP:case Oe.DOWN:case Oe.LEFT:case Oe.RIGHT:(A=X.current)===null||A===void 0||A.onKeyDown(re);break;case Oe.ENTER:{if(O){var Ve=(O==null?void 0:O.node)||{},ce=Ve.selectable,ue=Ve.value;ce!==!1&&B(null,{node:{key:be},selected:!K.includes(ue)})}break}case Oe.ESC:u(!1)}},onKeyUp:function(){}}}),ge.length===0)return v("div",{role:"listbox",className:"".concat(o,"-empty"),onMouseDown:Z,children:f});var te={fieldNames:L};return me&&(te.loadedKeys=me),xe&&(te.expandedKeys=xe),Ue("div",{onMouseDown:Z,children:[O&&c&&v("span",{style:Vr,"aria-live":"assertive",children:O.node.value}),v(jt,{ref:X,focusable:!1,prefixCls:"".concat(o,"-tree"),treeData:ge,height:S,itemHeight:w,virtual:k!==!1&&m!==!1,multiple:a,icon:Re,showIcon:$e,switcherIcon:ne,showLine:Ne,loadData:s?null:j,motion:q,activeKey:be,checkable:V,checkStrictly:!0,checkedKeys:Te,selectedKeys:V?[]:K,defaultExpandAll:Fe,...te,onActiveChange:ee,onSelect:B,onCheck:B,onExpand:We,onLoad:Ee,filterTreeNode:M,expandAction:E})]})},Dt=i.exports.forwardRef(Ar);Dt.displayName="OptionList";var ct=function(){return null},Lt="SHOW_ALL",ut="SHOW_PARENT",at="SHOW_CHILD";function wt(e,t,n,r){var o=new Set(e);return t===at?e.filter(function(a){var s=n[a];return!(s&&s.children&&s.children.some(function(u){var c=u.node;return o.has(c[r.value])})&&s.children.every(function(u){var c=u.node;return it(c)||o.has(c[r.value])}))}):t===ut?e.filter(function(a){var s=n[a],u=s?s.parent:null;return!(u&&!it(u.node)&&o.has(u.key))}):e}var _r=["children","value"];function Mt(e){return zt(e).map(function(t){if(!i.exports.isValidElement(t)||!t.type)return null;var n=t,r=n.key,o=n.props,a=o.children,s=o.value,u=kt(o,_r),c=W({key:r,value:s},u),f=Mt(a);return f.length&&(c.children=f),c}).filter(function(t){return t})}function st(e){if(!e)return e;var t=W({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return rt(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),t}}),t}function Kr(e,t,n,r,o,a){var s=null,u=null;function c(){function f(d){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return d.map(function(w,N){var L="".concat(k,"-").concat(N),l=w[a.value],m=n.includes(l),E=f(w[a.children]||[],L,m),y=v(ct,{...w,children:E.map(function(K){return K.node})});if(t===l&&(s=y),m){var V={pos:L,node:y,children:E};return S||u.push(V),V}return null}).filter(function(w){return w})}u||(u=[],f(r),u.sort(function(d,k){var S=d.node.props.value,w=k.node.props.value,N=n.indexOf(S),L=n.indexOf(w);return N-L}))}Object.defineProperty(e,"triggerNode",{get:function(){return rt(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),c(),s}}),Object.defineProperty(e,"allCheckedNodes",{get:function(){return rt(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),c(),o?u:u.map(function(d){var k=d.node;return k})}})}function Hr(e,t){var n=t.id,r=t.pId,o=t.rootPId,a={},s=[],u=e.map(function(c){var f=W({},c),d=f[n];return a[d]=f,f.key=f.key||d,f});return u.forEach(function(c){var f=c[r],d=a[f];d&&(d.children=d.children||[],d.children.push(c)),(f===o||!d&&o===null)&&s.push(c)}),s}function Or(e,t,n){return i.exports.useMemo(function(){return e?n?Hr(e,W({id:"id",pId:"pId",rootPId:null},n!==!0?n:{})):e:Mt(t)},[t,n,e])}const Fr=function(e){var t=i.exports.useRef({valueLabels:new Map});return i.exports.useMemo(function(){var n=t.current.valueLabels,r=new Map,o=e.map(function(a){var s,u=a.value,c=(s=a.label)!==null&&s!==void 0?s:n.get(u);return r.set(u,c),W(W({},a),{},{label:c})});return t.current.valueLabels=r,[o]},[e])};function It(e){var t=i.exports.useRef();t.current=e;var n=i.exports.useCallback(function(){return t.current.apply(t,arguments)},[]);return n}const Rr=function(e,t){return i.exports.useMemo(function(){var n=Bt(e,{fieldNames:t,initWrapper:function(o){return W(W({},o),{},{valueEntities:new Map})},processEntity:function(o,a){var s=o.node[t.value];a.valueEntities.set(s,o)}});return n},[e,t])},$r=function(e,t,n,r){return i.exports.useMemo(function(){var o=e.map(function(c){var f=c.value;return f}),a=t.map(function(c){var f=c.value;return f}),s=o.filter(function(c){return!r[c]});if(n){var u=lt(o,!0,r);o=u.checkedKeys,a=u.halfCheckedKeys}return[Array.from(new Set([].concat(ve(s),ve(o)))),a]},[e,t,n,r])},Wr=function(e,t,n){var r=n.treeNodeFilterProp,o=n.filterTreeNode,a=n.fieldNames,s=a.children;return i.exports.useMemo(function(){if(!t||o===!1)return e;var u;if(typeof o=="function")u=o;else{var c=t.toUpperCase();u=function(k,S){var w=S[r];return String(w).toUpperCase().includes(c)}}function f(d){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return d.map(function(S){var w=S[s],N=k||u(t,st(S)),L=f(w||[],N);return N||L.length?W(W({},S),{},R({isLeaf:void 0},s,L)):null}).filter(function(S){return S})}return f(e)},[e,t,s,r,o])};var jr=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion"];function zr(e){return!e||Gt(e)!=="object"}var Br=i.exports.forwardRef(function(e,t){var n=e.id,r=e.prefixCls,o=r===void 0?"rc-tree-select":r,a=e.value,s=e.defaultValue,u=e.onChange,c=e.onSelect,f=e.onDeselect,d=e.searchValue,k=e.inputValue,S=e.onSearch,w=e.autoClearSearchValue,N=w===void 0?!0:w,L=e.filterTreeNode,l=e.treeNodeFilterProp,m=l===void 0?"value":l,E=e.showCheckedStrategy,y=E===void 0?at:E,V=e.treeNodeLabelProp,K=e.multiple,pe=e.treeCheckable,$=e.treeCheckStrictly,Fe=e.labelInValue,ke=e.fieldNames,he=e.treeDataSimpleMode,Re=e.treeData,$e=e.children,ne=e.loadData,Ne=e.treeLoadedKeys,oe=e.onTreeLoad,j=e.treeDefaultExpandAll,me=e.treeExpandedKeys,q=e.treeDefaultExpandedKeys,Ee=e.onTreeExpand,J=e.treeExpandAction,X=e.virtual,ge=e.listHeight,Te=ge===void 0?200:ge,le=e.listItemHeight,M=le===void 0?20:le,ie=e.onDropdownVisibleChange,z=e.dropdownMatchSelectWidth,Q=z===void 0?!0:z,De=e.treeLine,Le=e.treeIcon,ye=e.showTreeIcon,se=e.switcherIcon,Ce=e.treeMotion,xe=kt(e,jr),We=Ut(n),Z=pe&&!$,B=pe||$,Me=$||Fe,H=B||K,be=ht(s,{value:a}),ee=G(be,2),O=ee[0],te=ee[1],p=i.exports.useMemo(function(){return Mr(ke)},[JSON.stringify(ke)]),T=ht("",{value:d!==void 0?d:k,postState:function(h){return h||""}}),re=G(T,2),A=re[0],Pe=re[1],Ve=function(h){Pe(h),S==null||S(h)},ce=Or(Re,$e,he),ue=Rr(ce,p),_=ue.keyEntities,ae=ue.valueEntities,je=i.exports.useCallback(function(g){var h=[],C=[];return g.forEach(function(x){ae.has(x)?C.push(x):h.push(x)}),{missingRawValues:h,existRawValues:C}},[ae]),Ge=Wr(ce,A,{fieldNames:p,treeNodeFilterProp:m,filterTreeNode:L}),qe=i.exports.useCallback(function(g){if(g){if(V)return g[V];for(var h=p._title,C=0;C<h.length;C+=1){var x=g[h[C]];if(x!==void 0)return x}}},[p,V]),Se=i.exports.useCallback(function(g){var h=Lr(g);return h.map(function(C){return zr(C)?{value:C}:C})},[]),Ae=i.exports.useCallback(function(g){var h=Se(g);return h.map(function(C){var x=C.label,F=C.value,D=C.halfChecked,b,I=ae.get(F);if(I){var P;x=(P=x)!==null&&P!==void 0?P:qe(I.node),b=I.node.disabled}else if(x===void 0){var de=Se(O).find(function(ze){return ze.value===F});x=de.label}return{label:x,value:F,halfChecked:D,disabled:b}})},[ae,qe,Se,O]),Je=i.exports.useMemo(function(){return Se(O)},[Se,O]),nt=i.exports.useMemo(function(){var g=[],h=[];return Je.forEach(function(C){C.halfChecked?h.push(C):g.push(C)}),[g,h]},[Je]),dt=G(nt,2),_e=dt[0],ft=dt[1],vt=i.exports.useMemo(function(){return _e.map(function(g){return g.value})},[_e]),Pt=$r(_e,ft,Z,_),pt=G(Pt,2),Ke=pt[0],Xe=pt[1],Vt=i.exports.useMemo(function(){var g=wt(Ke,y,_,p),h=g.map(function(D){var b,I,P;return(b=(I=_[D])===null||I===void 0||(P=I.node)===null||P===void 0?void 0:P[p.value])!==null&&b!==void 0?b:D}),C=h.map(function(D){var b=_e.find(function(I){return I.value===D});return{value:D,label:b==null?void 0:b.label}}),x=Ae(C),F=x[0];return!H&&F&&St(F.value)&&St(F.label)?[]:x.map(function(D){var b;return W(W({},D),{},{label:(b=D.label)!==null&&b!==void 0?b:D.value})})},[p,H,Ke,_e,Ae,y,_]),At=Fr(Vt),_t=G(At,1),Kt=_t[0],Qe=It(function(g,h,C){var x=Ae(g);if(te(x),N&&Pe(""),u){var F=g;if(Z){var D=wt(g,y,_,p);F=D.map(function(U){var fe=ae.get(U);return fe?fe.node[p.value]:U})}var b=h||{triggerValue:void 0,selected:void 0},I=b.triggerValue,P=b.selected,de=F;if($){var ze=ft.filter(function(U){return!F.includes(U.value)});de=[].concat(ve(de),ve(ze))}var Be=Ae(de),we={preValue:_e,triggerValue:I},He=!0;($||C==="selection"&&!P)&&(He=!1),Kr(we,I,g,ce,He,p),B?we.checked=P:we.selected=P;var Ze=Me?Be:Be.map(function(U){return U.value});u(H?Ze:Ze[0],Me?null:Be.map(function(U){return U.label}),we)}}),ot=i.exports.useCallback(function(g,h){var C,x=h.selected,F=h.source,D=_[g],b=D==null?void 0:D.node,I=(C=b==null?void 0:b[p.value])!==null&&C!==void 0?C:g;if(!H)Qe([I],{selected:!0,triggerValue:I},"option");else{var P=x?[].concat(ve(vt),[I]):Ke.filter(function(fe){return fe!==I});if(Z){var de=je(P),ze=de.missingRawValues,Be=de.existRawValues,we=Be.map(function(fe){return ae.get(fe).key}),He;if(x){var Ze=lt(we,!0,_);He=Ze.checkedKeys}else{var U=lt(we,{checked:!1,halfCheckedKeys:Xe},_);He=U.checkedKeys}P=[].concat(ve(ze),ve(He.map(function(fe){return _[fe].node[p.value]})))}Qe(P,{selected:x,triggerValue:I},F||"option")}x||!H?c==null||c(I,st(b)):f==null||f(I,st(b))},[je,ae,_,p,H,vt,Qe,Z,c,f,Ke,Xe]),Ht=i.exports.useCallback(function(g){if(ie){var h={};Object.defineProperty(h,"documentClickClose",{get:function(){return rt(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),ie(g,h)}},[ie]),Ot=It(function(g,h){var C=g.map(function(x){return x.value});if(h.type==="clear"){Qe(C,{},"selection");return}h.values.length&&ot(h.values[0].value,{selected:!1,source:"selection"})}),Ft=i.exports.useMemo(function(){return{virtual:X,dropdownMatchSelectWidth:Q,listHeight:Te,listItemHeight:M,treeData:Ge,fieldNames:p,onSelect:ot,treeExpandAction:J}},[X,Q,Te,M,Ge,p,ot,J]),Rt=i.exports.useMemo(function(){return{checkable:B,loadData:ne,treeLoadedKeys:Ne,onTreeLoad:oe,checkedKeys:Ke,halfCheckedKeys:Xe,treeDefaultExpandAll:j,treeExpandedKeys:me,treeDefaultExpandedKeys:q,onTreeExpand:Ee,treeIcon:Le,treeMotion:Ce,showTreeIcon:ye,switcherIcon:se,treeLine:De,treeNodeFilterProp:m,keyEntities:_}},[B,ne,Ne,oe,Ke,Xe,j,me,q,Ee,Le,Ce,ye,se,De,m,_]);return v(Tt.Provider,{value:Ft,children:v(Et.Provider,{value:Rt,children:v(Yt,{ref:t,...xe,id:We,prefixCls:o,mode:H?"multiple":void 0,displayValues:Kt,onDisplayValuesChange:Ot,searchValue:A,onSearch:Ve,OptionList:Dt,emptyOptions:!ce.length,onDropdownVisibleChange:Ht,dropdownMatchSelectWidth:Q})})})}),Ye=Br;Ye.TreeNode=ct;Ye.SHOW_ALL=Lt;Ye.SHOW_PARENT=ut;Ye.SHOW_CHILD=at;var Ur=function(t){var n=t.componentCls,r=t.treePrefixCls,o=t.colorBgElevated,a="."+r;return[R({},n+"-dropdown",[{padding:t.paddingXS+"px "+t.paddingXS/2+"px"},Jt(r,Nt(t,{colorBgContainer:o})),R({},a,{borderRadius:0,"&-list-holder-inner":R({alignItems:"stretch"},a+"-treenode",R({},a+"-node-content-wrapper",{flex:"auto"}))}),Xt(r+"-checkbox",t),{"&-rtl":R({direction:"rtl"},a+"-switcher"+a+"-switcher_close",R({},a+"-switcher-icon svg",{transform:"rotate(90deg)"}))}])]};function Yr(e,t){return qt("TreeSelect",function(n){var r=Nt(n,{treePrefixCls:t});return[Ur(r)]})(e)}var Gr=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},qr=function(t,n){var r,o=t.prefixCls,a=t.size,s=t.disabled,u=t.bordered,c=u===void 0?!0:u,f=t.className,d=t.treeCheckable,k=t.multiple,S=t.listHeight,w=S===void 0?256:S,N=t.listItemHeight,L=N===void 0?26:N,l=t.placement,m=t.notFoundContent,E=t.switcherIcon,y=t.treeLine,V=t.getPopupContainer,K=t.popupClassName,pe=t.dropdownClassName,$=t.treeIcon,Fe=$===void 0?!1:$,ke=t.transitionName,he=t.choiceTransitionName,Re=he===void 0?"":he,$e=t.status,ne=t.showArrow,Ne=t.treeExpandAction,oe=Gr(t,["prefixCls","size","disabled","bordered","className","treeCheckable","multiple","listHeight","listItemHeight","placement","notFoundContent","switcherIcon","treeLine","getPopupContainer","popupClassName","dropdownClassName","treeIcon","transitionName","choiceTransitionName","status","showArrow","treeExpandAction"]),j=i.exports.useContext(Zt),me=j.getPopupContainer,q=j.getPrefixCls,Ee=j.renderEmpty,J=j.direction,X=j.virtual,ge=j.dropdownMatchSelectWidth,Te=i.exports.useContext(er),le=q(),M=q("select",o),ie=q("select-tree",o),z=q("tree-select",o),Q=tr(M,J),De=Q.compactSize,Le=Q.compactItemClassnames,ye=rr(M),se=G(ye,2),Ce=se[0],xe=se[1],We=Yr(z,ie),Z=G(We,1),B=Z[0],Me=mt(K||pe,z+"-dropdown",R({},z+"-dropdown-rtl",J==="rtl"),xe),H=!!(d||k),be=ne!==void 0?ne:oe.loading||!H,ee=i.exports.useContext(ar),O=ee.status,te=ee.hasFeedback,p=ee.isFormItemInput,T=ee.feedbackIcon,re=dr(O,$e),A=nr(gt(gt({},oe),{multiple:H,showArrow:be,hasFeedback:te,feedbackIcon:T,prefixCls:M})),Pe=A.suffixIcon,Ve=A.removeIcon,ce=A.clearIcon,ue;m!==void 0?ue=m:ue=(Ee||or)("Select");var _=lr(oe,["suffixIcon","itemIcon","removeIcon","clearIcon","switcherIcon"]),ae=function(){return l!==void 0?l:J==="rtl"?"bottomRight":"bottomLeft"},je=De||a||Te,Ge=i.exports.useContext(ir),qe=s!=null?s:Ge,Se=mt(!o&&z,(r={},R(r,M+"-lg",je==="large"),R(r,M+"-sm",je==="small"),R(r,M+"-rtl",J==="rtl"),R(r,M+"-borderless",!c),R(r,M+"-in-form-item",p),r),sr(M,re,te),Le,f,xe),Ae=v(Ye,{virtual:X,dropdownMatchSelectWidth:ge,disabled:qe,..._,ref:n,prefixCls:M,className:Se,listHeight:w,listItemHeight:L,treeCheckable:d&&v("span",{className:M+"-tree-checkbox-inner"}),treeLine:!!y,inputIcon:Pe,multiple:k,placement:ae(),removeIcon:Ve,clearIcon:ce,switcherIcon:function(nt){return cr(ie,E,y,nt)},showTreeIcon:Fe,notFoundContent:ue,getPopupContainer:V||me,treeMotion:null,dropdownClassName:Me,choiceTransitionName:yt(le,"",Re),transitionName:yt(le,ur(l),ke),showArrow:te||ne,treeExpandAction:Ne});return Ce(B(Ae))},Jr=i.exports.forwardRef(qr),Ie=Jr,Xr=Qt(Ie);Ie.TreeNode=ct;Ie.SHOW_ALL=Lt;Ie.SHOW_PARENT=ut;Ie.SHOW_CHILD=at;Ie._InternalPanelDoNotUseOrYouWillBeFired=Xr;const Qr=Ie,oa=()=>{const e=fr(),t=vr(pr),{seri:n,weeks:r}=i.exports.useContext(hr),{handleSubmit:o,control:a,register:s}=mr(),[u,c]=i.exports.useState(),f=n&&(n==null?void 0:n.map((l,m)=>({label:m+1+" - "+l.name,value:l._id,children:l.categorymain.map((E,y)=>({label:y+1+" - "+E.cates.name,value:E.cates._id}))}))),d=l=>{c(l)},k=async l=>{const m=new FormData;m.append("name",l.name),m.append("des",l.des),m.append("sumSeri",l.sumSeri),m.append("week",l.week),m.append("type",l.type),m.append("file",l.file),m.append("up",l.up),m.append("time",l.time),m.append("isActive",l.isActive),m.append("year",l.year),m.append("anotherName",l.anotherName),(await e(Sr(m))).payload.success==!0?tt.success("Th\xE0nh c\xF4ng"):tt.error("Th\u1EA5t b\u1EA1i")},S=async l=>{(await e(wr(l))).payload?tt.success("Delete Success"):tt.error("Delete Failure")};i.exports.useEffect(()=>{e(gr())},[]);const w=async l=>{(await Nr(u,{categoryId:l})).data.success?Ir("Add category success!"):kr("Failure!")},N=r&&(r==null?void 0:r.map((l,m)=>({label:l.name,value:l._id}))),L=t.data&&t.data.map((l,m)=>({key:l._id,name:v(Ct,{to:"/q/"+l._id,children:l.name}),image:v(Dr,{width:150,height:200,style:{objectFit:"cover"},src:l.linkImg}),createAt:l.createdAt,duration:l.time,isActive:l.isActive==0?v(xt,{color:"warning",children:"isPending"}):v(xt,{color:"success",children:"Done"}),year:l.year,set:l.up,week:r&&r.map(E=>E._id==l.week&&E.name),action:Ue("div",{className:"flex gap-1",children:[v(Ct,{to:`/dashboard/category/edit/${l._id}`,children:v(et,{style:{background:"#1677ff"},type:"primary",children:"Edit"})}),v(et,{danger:!0,className:"ml-2",onClick:()=>S(l._id),children:"Delete"}),v(et,{className:"ml-2",onClick:()=>w(l._id),children:"Push"})]})}));return Ue(yr.Fragment,{children:[v(Qr,{style:{width:"100%"},value:u,dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:f,placeholder:"Please select",treeDefaultExpandAll:!0,onChange:d,className:"mb-2"}),Ue(Cr,{gutter:10,children:[v(bt,{span:18,children:v(xr,{columns:br,dataSource:L,scroll:{x:1e3,y:1e3},pagination:{defaultPageSize:20,showSizeChanger:!0,pageSizeOptions:["20","40","60"]}})}),v(bt,{span:6,children:Ue("form",{onSubmit:o(k),children:[v(Y,{name:"name",label:"Name",control:a,rules:void 0}),v(Y,{name:"anotherName",label:"Another Name",control:a,rules:void 0}),v(Y,{name:"des",label:"Description",control:a,rules:void 0}),v(Y,{name:"sumSeri",label:"Sum seri",control:a,rules:void 0}),v(Y,{name:"type",label:"Type",control:a,rules:void 0}),v(Y,{name:"week",label:"Week",control:a,rules:void 0}),v(Y,{name:"time",label:"Duration",control:a,rules:void 0}),v(Y,{name:"isActive",label:"isActive",control:a,rules:void 0}),v(Y,{name:"year",label:"Year",control:a,rules:void 0}),v(Y,{name:"up",label:"Set",control:a,rules:void 0}),v(Er,{name:"week",label:"Theo tu\u1EA7n",control:a,placeholder:"Week",defaultValue:void 0,options:N}),v(Tr,{name:"file",label:"Upload",control:a}),v(et,{htmlType:"submit",className:"mt-2",children:"Create"})]})})]})]})};export{oa as default};
