import{r as s,j as t,C as O,s as M,i as j,g as z,D as K,b as y,F as S,c as p,p as n,E as R,G as B,m as Y,o as a,H as G,I as H,J,K as Q,Q as h,O as X,l as w}from"./index.276f64d2.js";import{M as P}from"./index.12e11db8.js";const $=s.exports.memo(({defaultValue:o,placeholder:c,style:d,options:r,...u})=>t(O,{placeholder:c,defaultValue:o,style:d,options:r,allowClear:!0,...u})),q=M.div``,U=M.input``,W=({product:o,length:c,isLoading:d})=>{const{category:r,seri:u}=s.exports.useContext(j),[x,b]=s.exports.useState(""),[g,E]=s.exports.useState("");s.exports.useState([]),s.exports.useState(!1);const[A,_]=s.exports.useState(!1),[f,F]=s.exports.useState([]),[m,L]=s.exports.useState(3),C=z();s.exports.useEffect(()=>{C(K(m)),document.title="Admin Page"},[A,m]);let l=o;x.length&&(l=o.filter(e=>e.name.toLowerCase().includes(x.toLowerCase()))),g&&(l=o.filter(e=>g==e.category),g=="Select"&&o.map(e=>l.push(e)));const N=async()=>{(await Q(f)).success?(_(!0),h.success("Delete products successfully")):h.error("Error deleting products")},T=async e=>{(await C(X(e))).payload.success?h.success("Delete product successfully"):h.error("Error deleting product")},V=e=>{E(e)},k={selectedRowKeys:f,onChange:e=>{F(e)}},I=l&&l.map((e,D)=>({key:e._id,name:e.name,trailer:e.trailer?"true":"false",category:r&&r.data.map(i=>{if(i._id===e.category)return i.name}),sidebar:u&&u.map((i,v)=>i._id===e.typeId&&i.name),Seri:e.seri,copyright:e.copyright,options:e.options,country:e.country?e.country:"null",year:e.year?e.year:"null",action:y(S,{children:[t(p,{to:`/dashboard/product/edit/${e._id}`,children:t(n,{danger:!0,shape:"circle",children:t(R,{})})}),t(P,{title:"Delete the product",onConfirm:()=>T(e._id),okText:"Yes",cancelText:"No",children:t(n,{shape:"circle",className:"ml-2",children:t(B,{})})})]})}));return y(S,{children:[y(Y,{gutter:[10,10],align:"middle",style:{marginBottom:"10px"},children:[t(a,{children:t(P,{title:"Delete the products",onConfirm:N,okText:"Yes",cancelText:"No",children:t(n,{children:"X\xF3a"})})}),t(a,{children:t(p,{to:"/dashboard/product/add",children:t(n,{children:"Add Product"})})}),t(a,{children:t(p,{to:"/dashboard/product/creacting",children:t(n,{children:"Add Multiple"})})}),t(a,{children:t(p,{to:"/dashboard/product/add",children:t(n,{children:"Export PDF"})})}),t(a,{children:t(p,{to:"/dashboard/product/add",children:t(n,{danger:!0,shape:"round",children:"Export Excel"})})}),t(a,{children:t($,{placeholder:"Select",onChange:V,defaultValue:"Select",style:{width:300},options:r&&(r==null?void 0:r.data.map((e,D)=>({label:e.name,value:e._id}))),children:void 0})}),t(a,{children:t(q,{className:"form-outline",children:t(U,{type:"search",placeholder:"search...",className:"form-control p-2 rounded",onChange:e=>{b(e.target.value)}})})})]}),t(G,{spinning:d,delay:void 0,children:t(H,{rowSelection:k,columns:J,dataSource:I,scroll:{x:1500,y:1e3},pagination:{defaultPageSize:40,showSizeChanger:!0,pageSizeOptions:["40","80","120"],current:m,onChange:e=>{L(e)},total:c}})})]})},re=()=>{const{product:o,length:c}=w(r=>r.product.value),d=w(r=>r.product.isLoading);return t(S,{children:t(W,{product:o,isLoading:d,length:c})})};export{re as default};
