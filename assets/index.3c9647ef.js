import{g as T,l as D,be as N,r as p,i as _,k as j,bf as F,j as a,c as y,T as g,b as o,p as t,R as V,bg as b,m as E,o as f,K as I,bh as P,aF as r,bi as G,Q as i,bj as L}from"./index.cecef7c3.js";import{p as R}from"./type.aec96fc6.js";import{M as z}from"./index.7a0a4add.js";import{M as W}from"./index.b0cc99d4.js";import{I as J}from"./index.0166b962.js";import"./DeleteOutlined.5695cb19.js";import"./DownloadOutlined.140faeb0.js";const H=()=>{const c=T(),u=D(N),{seri:m,weeks:l}=p.exports.useContext(_),[h,v]=p.exports.useState(null),{handleSubmit:k,control:n,register:O}=j(),S=async e=>{const s=new FormData;s.append("name",e.name),s.append("des",e.des),s.append("sumSeri",e.sumSeri),s.append("week",e.week),s.append("type",e.type),s.append("file",e.file),s.append("up",e.up),s.append("time",e.time),s.append("isActive",e.isActive),s.append("year",e.year),(await c(G(s))).payload.success?i.success("Th\xE0nh c\xF4ng"):i.error("Th\u1EA5t b\u1EA1i")},x=e=>{e?(i.success("Delete Success"),c(L(e))):i.error("Delete Failure")};p.exports.useEffect(()=>{c(F())},[]);const A=e=>{v(e)},C=async e=>{await R(h,{categoryId:e})},w=l&&(l==null?void 0:l.map(e=>({label:e.name,value:e._id}))),M=u.data&&u.data.map((e,s)=>({key:e._id,name:a(y,{to:"/q/"+e._id,children:e.name}),image:a(J,{width:150,height:200,style:{objectFit:"cover"},src:e.linkImg}),createAt:e.createdAt,duration:e.time,isActive:e.isActive==0?a(g,{color:"warning",children:"isPending"}):a(g,{color:"success",children:"Done"}),year:e.year,set:e.up,week:l&&l.map(d=>d._id==e.week&&d.name),action:o("div",{className:"flex gap-1",children:[a(y,{to:`/dashboard/category/edit/${e._id}`,children:a(t,{style:{background:"#1677ff"},type:"primary",children:"Edit"})}),a(t,{danger:!0,className:"ml-2",onClick:()=>x(e._id),children:"Delete"}),a(t,{className:"ml-2",onClick:()=>C(e._id),children:"Push"})]}),children:[{name:"Jim Green jr.",age:25,address:"London No. 3 Lake Park"},{name:"Jimmy Green sr.",age:18,address:"London No. 4 Lake Park"}]}));return o(V.Fragment,{children:[a("div",{className:"p-2",style:{display:"flex",gap:"0 10px",justifyContent:"center"},children:m&&m.map((e,s)=>a("div",{children:e.path=="/"?"":a(b.Group,{value:h,children:a(b,{onChange:()=>A(e._id),children:e.name})})},s))}),o(E,{gutter:10,children:[a(f,{span:18,children:a(I,{columns:P,dataSource:M,scroll:{x:1e3,y:1e3},pagination:{defaultPageSize:20,showSizeChanger:!0,pageSizeOptions:["20","40","60"]}})}),a(f,{span:6,children:o("form",{onSubmit:k(S),children:[a(r,{name:"name",label:"Name",control:n,rules:void 0}),a(r,{name:"des",label:"Description",control:n,rules:void 0}),a(r,{name:"sumSeri",label:"Sum seri",control:n,rules:void 0}),a(r,{name:"type",label:"Type",control:n,rules:void 0}),a(r,{name:"week",label:"Week",control:n,rules:void 0}),a(r,{name:"time",label:"Duration",control:n,rules:void 0}),a(r,{name:"isActive",label:"isActive",control:n,rules:void 0}),a(r,{name:"year",label:"Year",control:n,rules:void 0}),a(r,{name:"up",label:"Set",control:n,rules:void 0}),a(z,{name:"week",label:"Theo tu\u1EA7n",control:n,placeholder:"Week",defaultValue:void 0,options:w}),a(W,{name:"file",label:"Upload",control:n}),a(t,{htmlType:"submit",className:"mt-2",children:"Create"})]})})]})]})};export{H as default};
