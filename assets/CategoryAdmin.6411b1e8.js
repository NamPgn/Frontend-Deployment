import{f as A,w as k,a0 as S,r as c,V as v,a1 as C,a as t,I as E,j as n,c as I,B as i,a2 as u,T,Q as r,a3 as b,a4 as w}from"./index.5f2eccdf.js";import{p as D}from"./type.70127ea5.js";import{u as F}from"./index.esm.412d06d2.js";const j=[{title:"Stt",dataIndex:"stt",key:"stt"},{title:"Name",dataIndex:"name",key:"name"},{title:"Image",dataIndex:"image",key:"Image"},{title:"CreateAt",dataIndex:"createAt",key:"createAt"},{title:"Action",dataIndex:"action",key:"action"}],P=()=>{const l=A(),d=k(S),{seri:o}=c.exports.useContext(v),[p,m]=c.exports.useState(null),{register:s,handleSubmit:h}=F(),y=e=>{const a=new FormData;a.append("name",e.name),a.append("des",e.des),a.append("sumSeri",e.sumSeri),a.append("week",e.week),a.append("type",e.type),a.append("file",e.file[0]),r.success("Th\xE0nh c\xF4ng"),l(b(a))},g=e=>{e?(r.success("Delete Success"),l(w(e))):r.error("Delete Fail")};c.exports.useEffect(()=>{l(C())},[]);const x=e=>{m(e)},f=async e=>{await D(p,{categoryId:e})},N=d?d.map((e,a)=>({key:e._id,stt:a+1,name:e.name,image:t(E,{width:150,height:200,style:{objectFit:"cover"},src:e.linkImg}),createAt:e.createdAt,action:n("div",{className:"flex gap-1",children:[t(I,{to:`/admin/category/edit/${e._id}`,children:t(i,{style:{background:"#1677ff"},type:"primary",children:"Edit"})}),t(i,{danger:!0,className:"text-light ml-2",onClick:()=>g(e._id),children:"Delete"}),t(i,{className:"text-light ml-2",onClick:()=>f(e._id),children:"Push"})]})})):"";return n("div",{children:[t("div",{className:"p-2",style:{display:"flex",gap:"0 10px",justifyContent:"center"},children:o?o.map((e,a)=>t("div",{children:t(u.Group,{value:p,children:t(u,{name:"aa",onChange:()=>x(e._id),children:e.name})})},a)):""}),n("div",{className:"flex gap-2",children:[t(T,{className:"w-9/12",columns:j,dataSource:N,pagination:{defaultPageSize:5,showSizeChanger:!0,pageSizeOptions:["5","20","30"]}}),n("form",{className:"w-3/12",onSubmit:h(y),children:[t("div",{className:"text-black",children:"Th\xEAm"}),t("div",{className:"group",children:t("input",{placeholder:"T\xEAn danh m\u1EE5c",...s("name"),type:"text",className:"input2 "})}),t("div",{className:"group",children:t("input",{placeholder:"M\xF4 t\u1EA3",...s("des"),type:"text",className:"input2"})}),t("div",{className:"group",children:t("input",{placeholder:"T\u1ED5ng s\u1ED1 t\u1EADp",...s("sumSeri"),type:"text",className:"input2"})}),t("div",{className:"group",children:t("input",{placeholder:"Ki\u1EC3u",...s("type"),type:"text",className:"input2"})}),t("div",{className:"group",children:t("input",{placeholder:"Theo tu\u1EA7n",...s("week"),type:"text",className:"input2"})}),t("div",{className:"group",children:t("input",{type:"file",name:"file",...s("file"),className:"form-control"})}),t(i,{htmlType:"submit",children:"Add"})]})]})]})};export{P as default};
